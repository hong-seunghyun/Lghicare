(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{8404:(n,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return r(9369)}])},9099:(n,e,r)=>{n.exports=r(6296)},9369:(n,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>y});var t=r(8888),i=r(7876),o=r(9099),l=r(4232),c=r(7232);function s(){let n=(0,t._)(["\n  padding: 2rem;\n"]);return s=function(){return n},n}function u(){let n=(0,t._)(["\n  font-size: 1.6rem;\n  margin-bottom: 0.5rem;\n"]);return u=function(){return n},n}function d(){let n=(0,t._)(["\n  font-size: 0.9rem;\n  color: #777;\n"]);return d=function(){return n},n}function a(){let n=(0,t._)(["\n  margin: 0.5rem 0;\n  font-size: 0.9rem;\n  color: #333;\n"]);return a=function(){return n},n}function f(){let n=(0,t._)(["\n  margin-top: 1.5rem;\n"]);return f=function(){return n},n}function h(){let n=(0,t._)(["\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n"]);return h=function(){return n},n}function m(){let n=(0,t._)(["\n  padding: 0.5rem;\n  border-radius: 6px;\n  border: 1px solid #ccc;\n"]);return m=function(){return n},n}function p(){let n=(0,t._)(["\n  margin-top: 2rem;\n  color: #0070f3;\n"]);return p=function(){return n},n}function x(){let n=(0,t._)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n"]);return x=function(){return n},n}function j(){let n=(0,t._)(["\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  border: 1px solid ",";\n  background: ",";\n  color: ",";\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    border-color: ",";\n  }\n"]);return j=function(){return n},n}function y(){let{id:n}=(0,o.useRouter)().query,[e,r]=(0,l.useState)([]),[t,c]=(0,l.useState)(!0),[s,u]=(0,l.useState)(""),[d,a]=(0,l.useState)(""),[f,h]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[x,j]=(0,l.useState)("");if((0,l.useEffect)(()=>{n&&(async()=>{try{c(!0);let e=await fetch("/api/products?sheet=".concat(encodeURIComponent("정수기"),"&id=").concat(n));if(!e.ok)throw Error("API 요청 실패: ".concat(e.status));let t=await e.json();r(t.options||[])}catch(n){console.error("상품 불러오기 오류:",n),r([])}finally{c(!1)}})()},[n]),t)return(0,i.jsx)("div",{children:"불러오는 중..."});if(!t&&0===e.length)return(0,i.jsx)("div",{children:"상품을 찾을 수 없습니다."});let y=s&&d&&f&&m?e.find(n=>{var e;return n["계약기간"]===s&&n["서비스유형"]===d&&n["서비스주기/월"]===f&&((null==(e=n["프로모션유형"])?void 0:e.trim())||"")===m&&(x?n["프로모션명"]===x:!n["프로모션명"]||0===n["프로모션명"].trim().length)}):void 0,N=y?parseInt((y["할인후금액"]||y["정상가"]||"0").replace(/[^0-9]/g,""),10):0,z=y?Math.max(N-13e3,0):0,I=Array.from(new Set(e.map(n=>n["모델코드"])));return(0,i.jsxs)(_,{children:[(0,i.jsx)(g,{children:e[0]["상품명"]}),(0,i.jsxs)(v,{children:["모델군 기준: ",n]}),(0,i.jsxs)(w,{children:["모델코드: ",I.join(", ")]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(A,{children:"계약기간"}),(0,i.jsx)(C,{children:Array.from(new Set(e.map(n=>n["계약기간"]))).map(n=>(0,i.jsx)(E,{selected:s===n,onClick:()=>{u(n),a(""),h(""),p(""),j("")},children:n},n))})]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(A,{children:"서비스유형"}),(0,i.jsx)(C,{children:Array.from(new Set(e.map(n=>n["서비스유형"]))).map(n=>(0,i.jsx)(E,{selected:d===n,onClick:()=>{s&&(a(n),h(""),p(""),j(""))},disabled:!s,children:n},n))})]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(A,{children:"서비스주기/월"}),(0,i.jsx)(C,{children:Array.from(new Set(e.map(n=>n["서비스주기/월"]))).map(n=>(0,i.jsx)(E,{selected:f===n,onClick:()=>{d&&(h(n),p(""),j(""))},disabled:!d,children:n},n))})]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(A,{children:"프로모션유형"}),(0,i.jsx)(C,{children:Array.from(new Set(e.map(n=>{var e;return null==(e=n["프로모션유형"])?void 0:e.trim()}).filter(n=>n&&n.length>0))).map(n=>(0,i.jsx)(E,{selected:m===n,onClick:()=>{f&&(p(n),j(""))},disabled:!f,children:n},n))})]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(A,{children:"프로모션명"}),(0,i.jsxs)(S,{value:x,onChange:n=>j(n.target.value),disabled:!m,children:[(0,i.jsx)("option",{value:"",children:"선택 안 함"}),Array.from(new Set(e.filter(n=>{var e;return n["계약기간"]===s&&n["서비스유형"]===d&&n["서비스주기/월"]===f&&((null==(e=n["프로모션유형"])?void 0:e.trim())||"")===m}).map(n=>n["프로모션명"]).filter(n=>!!n))).map(n=>(0,i.jsx)("option",{value:n,children:n},n))]})]}),(0,i.jsxs)(k,{children:["이용요금: ",y?"".concat(N.toLocaleString(),"원"):"-"," ",(0,i.jsx)("br",{}),"최대혜택가:"," ",(0,i.jsx)("span",{style:{color:"#e60023",fontWeight:"bold"},children:y?"".concat(z.toLocaleString(),"원"):"-"})]})]})}let _=c.Ay.div(s()),g=c.Ay.h1(u()),v=c.Ay.p(d()),w=c.Ay.div(a()),b=c.Ay.div(f()),A=c.Ay.div(h()),S=c.Ay.select(m()),k=c.Ay.h2(p()),C=c.Ay.div(x()),E=c.Ay.button(j(),n=>{let{selected:e}=n;return e?"#0070f3":"#ccc"},n=>{let{selected:e}=n;return e?"#0070f3":"#fff"},n=>{let{selected:e}=n;return e?"#fff":"#333"},n=>{let{disabled:e}=n;return e?"not-allowed":"pointer"},n=>{let{disabled:e}=n;return e?.5:1},n=>{let{disabled:e}=n;return e?"#ccc":"#0070f3"})}},n=>{n.O(0,[863,636,593,792],()=>n(n.s=8404)),_N_E=n.O()}]);